# æ¨¡å— 01ï¼šç»“æ„åˆ†æ

[â† è¿”å›ä¸»æ–‡æ¡£](../AI_AGENT_è§†è§‰è¿˜åŸ_SOP_3.1_ä¸»æ–‡æ¡£.md)

---

## ğŸ¯ ç›®æ ‡

å¿«é€Ÿæ„å»ºé¡µé¢æ•´ä½“ç»“æ„åœ°å›¾ï¼Œ**ä¸æå–å…·ä½“å†…å®¹**ï¼Œåªè®°å½•sectionçš„ä½ç½®å’ŒåŸºæœ¬ä¿¡æ¯ã€‚

---

## ğŸ“‹ æ‰§è¡Œæ­¥éª¤

### 1. æå–SectionåŸºæœ¬ä¿¡æ¯

**ç›®æ ‡**ï¼šä¸ºæ¯ä¸ªsectionåˆ›å»ºç´¢å¼•å¡ç‰‡

**éœ€è¦æå–çš„ä¿¡æ¯**ï¼š
- Sectionç´¢å¼•ï¼ˆç¬¬å‡ ä¸ªï¼‰
- classNameï¼ˆç”¨äºè¯†åˆ«ç±»å‹ï¼‰
- idï¼ˆå¦‚æœæœ‰ï¼‰
- è¡Œå·èŒƒå›´ï¼ˆstart - endï¼‰
- ä¼°ç®—å¤§å°ï¼ˆKBï¼‰

**æ‰§è¡Œæ–¹æ³•**ï¼š

#### æ–¹æ³•Aï¼šä½¿ç”¨é˜¶æ®µ0ç”Ÿæˆçš„section_map.json
```python
import json

# è¯»å–sectionåœ°å›¾
with open('section_map.json', 'r') as f:
    sections = json.load(f)

# ä¸ºæ¯ä¸ªsectionæå–classNameå’Œid
def extract_section_info(html_file, sections):
    with open(html_file, 'r', encoding='utf-8') as f:
        lines = f.readlines()
    
    for section in sections:
        start_line = section['start'] - 1  # è½¬æ¢ä¸º0-basedç´¢å¼•
        # è¯»å–sectionå¼€å§‹æ ‡ç­¾ï¼ˆå¯èƒ½è·¨å¤šè¡Œï¼‰
        tag_lines = []
        for i in range(start_line, min(start_line + 5, len(lines))):
            tag_lines.append(lines[i])
            if '>' in lines[i]:
                break
        
        tag = ''.join(tag_lines)
        
        # æå–className
        import re
        class_match = re.search(r'class="([^"]*)"', tag)
        section['className'] = class_match.group(1) if class_match else ''
        
        # æå–id
        id_match = re.search(r'id="([^"]*)"', tag)
        section['id'] = id_match.group(1) if id_match else ''
        
        # åˆ¤æ–­ç±»å‹
        section['type'] = identify_section_type(section['className'])
    
    return sections

def identify_section_type(class_name):
    """æ ¹æ®classNameè¯†åˆ«sectionç±»å‹"""
    class_lower = class_name.lower()
    
    if 'hero' in class_lower:
        return 'hero'
    elif 'footer' in class_lower:
        return 'footer'
    elif 'nav' in class_lower or 'header' in class_lower:
        return 'navigation'
    elif 'form' in class_lower or 'contact' in class_lower:
        return 'form'
    elif 'testimonial' in class_lower or 'review' in class_lower:
        return 'testimonials'
    elif 'service' in class_lower:
        return 'services'
    elif 'feature' in class_lower:
        return 'features'
    elif 'pricing' in class_lower:
        return 'pricing'
    elif 'blog' in class_lower or 'post' in class_lower:
        return 'blog'
    elif 'team' in class_lower:
        return 'team'
    elif 'faq' in class_lower:
        return 'faq'
    elif 'cta' in class_lower or 'call-to-action' in class_lower:
        return 'cta'
    else:
        return 'content'

# æ‰§è¡Œ
sections_with_info = extract_section_info('index.html', sections)

# ä¿å­˜
with open('sections_structure.json', 'w', encoding='utf-8') as f:
    json.dump(sections_with_info, f, indent=2, ensure_ascii=False)
```

---

### 2. è¯†åˆ«ä¸»è¦å¸ƒå±€ç±»å‹

**å¸¸è§å¸ƒå±€ç±»å‹**ï¼š
- **å•åˆ—å¸ƒå±€**ï¼šå†…å®¹å±…ä¸­ï¼Œæœ€å¤§å®½åº¦é™åˆ¶
- **ä¸¤åˆ—å¸ƒå±€**ï¼šå·¦å³åˆ†æ 
- **ä¸‰åˆ—å¸ƒå±€**ï¼šç½‘æ ¼å¸ƒå±€
- **å…¨å±å¸ƒå±€**ï¼šå®½åº¦100%
- **å¡ç‰‡ç½‘æ ¼**ï¼šé‡å¤å¡ç‰‡å…ƒç´ 

**è¯†åˆ«æ–¹æ³•**ï¼š
```python
def identify_layout_type(section_html):
    """ç®€å•çš„å¸ƒå±€ç±»å‹è¯†åˆ«"""
    if 'w-row' in section_html or 'row' in section_html:
        # æ£€æŸ¥åˆ—æ•°
        col_count = section_html.count('w-col') or section_html.count('col-')
        if col_count >= 3:
            return 'three-column'
        elif col_count == 2:
            return 'two-column'
    
    if 'grid' in section_html or 'w-layout-grid' in section_html:
        return 'grid'
    
    if 'container' in section_html or 'w-container' in section_html:
        return 'single-column'
    
    if 'full-width' in section_html or 'w-100' in section_html:
        return 'full-width'
    
    return 'unknown'
```

---

### 3. ç”Ÿæˆç»“æ„åœ°å›¾

**ç›®æ ‡**ï¼šåˆ›å»ºä¸€ä¸ªæ¸…æ™°çš„é¡µé¢ç»“æ„æ¦‚è§ˆ

---

## ğŸ“¤ è¾“å‡ºæ ¼å¼

### sections_structure.json

```json
{
  "stage": "é˜¶æ®µ1ï¼šç»“æ„åˆ†æ",
  "total_sections": 15,
  "sections_map": [
    {
      "index": 1,
      "type": "hero",
      "className": "hero-section home-hero-section",
      "id": "hero",
      "line_range": "152-180",
      "start": 152,
      "end": 180,
      "estimated_size": "2.8KB",
      "layout_type": "single-column",
      "has_images": true,
      "has_forms": false
    },
    {
      "index": 2,
      "type": "services",
      "className": "py-100",
      "id": "",
      "line_range": "181-350",
      "start": 181,
      "end": 350,
      "estimated_size": "16.9KB",
      "layout_type": "grid",
      "has_images": true,
      "has_forms": false
    },
    {
      "index": 3,
      "type": "features",
      "className": "py-100 bg-light",
      "id": "features",
      "line_range": "351-500",
      "start": 351,
      "end": 500,
      "estimated_size": "14.9KB",
      "layout_type": "two-column",
      "has_images": true,
      "has_forms": false
    }
  ],
  "layout_summary": {
    "single-column": 5,
    "two-column": 3,
    "three-column": 2,
    "grid": 4,
    "full-width": 1
  },
  "special_sections": {
    "has_forms": [8, 14],
    "has_modals": [2, 6],
    "has_tabs": []
  }
}
```

---

## âœ… æ£€æŸ¥ç‚¹

å®Œæˆæœ¬é˜¶æ®µåï¼Œç¡®è®¤ï¼š

- [ ] æ‰€æœ‰sectionçš„ä½ç½®å·²å®šä½
- [ ] æ¯ä¸ªsectionçš„classNameå·²æå–
- [ ] æ¯ä¸ªsectionçš„ç±»å‹å·²è¯†åˆ«
- [ ] sections_structure.jsonå·²ç”Ÿæˆ
- [ ] å¸ƒå±€ç±»å‹å·²åˆ†ç±»
- [ ] âš ï¸ **æ­¤é˜¶æ®µåªåšæ¦‚è§ˆï¼Œæœªæå–å…·ä½“å†…å®¹**

---

## âš ï¸ é‡è¦æé†’

### âŒ ä¸è¦åœ¨æ­¤é˜¶æ®µåšçš„äº‹

1. **ä¸è¦æå–sectionå†…çš„æ–‡å­—å†…å®¹**
   - æ­¤é˜¶æ®µåªè®°å½•ç»“æ„ä¿¡æ¯
   - å…·ä½“å†…å®¹åœ¨é˜¶æ®µ4æå–

2. **ä¸è¦æå–å›¾ç‰‡URL**
   - åªéœ€æ ‡è®°"has_images": true/false
   - å…·ä½“URLåœ¨é˜¶æ®µ4æå–

3. **ä¸è¦åˆ†ææ ·å¼**
   - æ ·å¼åœ¨é˜¶æ®µ2å¤„ç†

### âœ… æ­¤é˜¶æ®µåº”è¯¥åšçš„äº‹

- å¿«é€Ÿæ‰«æï¼Œå»ºç«‹ç´¢å¼•
- è®°å½•ä½ç½®ä¿¡æ¯
- è¯†åˆ«sectionç±»å‹
- ä¸ºåç»­é˜¶æ®µæä¾›å¯¼èˆªåœ°å›¾

---

## ğŸ”§ è¾…åŠ©å·¥å…·

### å¯è§†åŒ–ç»“æ„åœ°å›¾

```python
def print_structure_map(sections):
    """æ‰“å°å‹å¥½çš„ç»“æ„åœ°å›¾"""
    print("\n" + "="*60)
    print("é¡µé¢ç»“æ„åœ°å›¾".center(60))
    print("="*60 + "\n")
    
    for section in sections:
        print(f"Section {section['index']:2d} | {section['type']:15s} | è¡Œ {section['start']:4d}-{section['end']:4d} | {section['estimated_size']:>6s}")
        if section['className']:
            print(f"             â””â”€ class: {section['className'][:50]}")
        print()
    
    print("="*60)
    print(f"æ€»è®¡: {len(sections)} ä¸ªsection\n")

# ä½¿ç”¨
with open('sections_structure.json', 'r') as f:
    data = json.load(f)
    print_structure_map(data['sections_map'])
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
============================================================
                        é¡µé¢ç»“æ„åœ°å›¾                        
============================================================

Section  1 | hero            | è¡Œ  152- 180 |  2.8KB
             â””â”€ class: hero-section home-hero-section

Section  2 | services        | è¡Œ  181- 350 | 16.9KB
             â””â”€ class: py-100

Section  3 | features        | è¡Œ  351- 500 | 14.9KB
             â””â”€ class: py-100 bg-light

...

============================================================
æ€»è®¡: 15 ä¸ªsection
```

---

[â† ä¸Šä¸€æ­¥ï¼šæ¨¡å—00 - æ–‡ä»¶æ‰«æ](./00_æ–‡ä»¶æ‰«æä¸åˆ†å—ç­–ç•¥.md) | [â†’ ä¸‹ä¸€æ­¥ï¼šæ¨¡å—02 - æ ·å¼æå–](./02_æ ·å¼æå–.md)
