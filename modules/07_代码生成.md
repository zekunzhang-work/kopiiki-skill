# æ¨¡å— 07ï¼šä»£ç ç”Ÿæˆ â­â­â­

[â† è¿”å›ä¸»æ–‡æ¡£](../AI_AGENT_è§†è§‰è¿˜åŸ_SOP_3.1_ä¸»æ–‡æ¡£.md)

---

## ğŸ¯ ç›®æ ‡

ç”Ÿæˆå®Œæ•´çš„React + TypeScripté¡¹ç›®ï¼Œ**ç»å¯¹ä¸å…è®¸ä½¿ç”¨å ä½ç¬¦**ã€‚

---

## âš ï¸ ä¸¥ç¦äº‹é¡¹

### âŒ ç»å¯¹ä¸å…è®¸ï¼š

```tsx
// âŒ é”™è¯¯ç¤ºä¾‹1ï¼šå†…å®¹å ä½ç¬¦
<section className="py-100">
  <div>Content goes here</div>
</section>

// âŒ é”™è¯¯ç¤ºä¾‹2ï¼šTODOæ³¨é‡Š
<section className="py-100">
  {/* TODO: Add section content */}
</section>

// âŒ é”™è¯¯ç¤ºä¾‹3ï¼šç©ºSection
<section className="py-100">
  <div>Section content would be implemented here</div>
</section>

// âŒ é”™è¯¯ç¤ºä¾‹4ï¼šå‡æ•°æ®
const cards = [
  { id: 1, title: "Sample Card" }  // åªæœ‰æ ·ä¾‹
];
```

### âœ… å¿…é¡»è¿™æ ·ï¼š

```tsx
// âœ… æ­£ç¡®ï¼šåŸºäºçœŸå®æ•°æ®
import { servicesData } from '../data/servicesData';

<section className="py-100">
  <div className="w-layout-blockcontainer site-container w-container">
    <h2 className="text-30">{servicesData.title}</h2>
    <p className="text-18">{servicesData.description}</p>
    {servicesData.cards.map((card, i) => (
      <Card key={i} {...card} />
    ))}
  </div>
</section>
```

---

## ğŸ“‹ æ‰§è¡Œæµç¨‹

### æ•´ä½“æµç¨‹

```
FOR æ¯ä¸ª sectionç»„ä»¶ (i = 1 to N):
  1. è¯»å– section_{i}_content.json
  2. å°†HTMLç»“æ„è½¬æ¢ä¸ºJSX
  3. ä¿ç•™æ‰€æœ‰className
  4. å¯¼å…¥å¯¹åº”çš„æ•°æ®æ–‡ä»¶
  5. å®ç°å®Œæ•´çš„æ¸²æŸ“é€»è¾‘
  6. âš ï¸ ä¸èƒ½ä½¿ç”¨å ä½ç¬¦
  7. ä¿å­˜ç»„ä»¶æ–‡ä»¶
END FOR

ç”Ÿæˆ App.tsxï¼ˆç»„è£…æ‰€æœ‰sectionï¼‰
ç”Ÿæˆé¡¹ç›®é…ç½®æ–‡ä»¶
```

---

## ğŸ“‹ æ­¥éª¤è¯¦è§£

### æ­¥éª¤1ï¼šåˆå§‹åŒ–é¡¹ç›®ç»“æ„

**åˆ›å»ºåŸºç¡€æ–‡ä»¶å¤¹**

```bash
mkdir -p src/components/layout
mkdir -p src/components/ui
mkdir -p src/components/sections
mkdir -p src/data
mkdir -p src/styles
```

---

### æ­¥éª¤2ï¼šç”ŸæˆUIç»„ä»¶

**Button.tsx**

```typescript
// src/components/ui/Button.tsx
import React from 'react';

interface ButtonProps {
  href?: string;
  onClick?: () => void;
  className?: string;
  children: React.ReactNode;
  type?: 'button' | 'submit' | 'reset';
}

const Button: React.FC<ButtonProps> = ({
  href,
  onClick,
  className = '',
  children,
  type = 'button'
}) => {
  if (href) {
    return (
      <a href={href} className={className}>
        {children}
      </a>
    );
  }

  return (
    <button type={type} onClick={onClick} className={className}>
      {children}
    </button>
  );
};

export default Button;
```

**Card.tsx**

```typescript
// src/components/ui/Card.tsx
import React from 'react';

interface CardProps {
  title: string;
  description: string;
  image?: {
    src: string;
    alt: string;
  };
  link?: {
    href: string;
    text: string;
  };
  className?: string;
}

const Card: React.FC<CardProps> = ({
  title,
  description,
  image,
  link,
  className = ''
}) => {
  return (
    <div className={className}>
      {image && (
        <img src={image.src} alt={image.alt} loading="lazy" />
      )}
      <h3>{title}</h3>
      <p>{description}</p>
      {link && (
        <a href={link.href}>{link.text}</a>
      )}
    </div>
  );
};

export default Card;
```

---

### æ­¥éª¤3ï¼šç”Ÿæˆå¸ƒå±€ç»„ä»¶

**Navigation.tsx**

```typescript
// src/components/layout/Navigation.tsx
import React from 'react';
import { logo, mainMenu, ctaButton } from '../../data/navigationData';

const Navigation: React.FC = () => {
  return (
    <nav className="navbar">
      <div className="w-layout-blockcontainer site-container w-container">
        <a href={logo.href} className="brand">
          <img src={logo.src} alt={logo.alt} />
        </a>
        
        <ul className="nav-menu">
          {mainMenu.map((item, index) => (
            <li key={index} className={item.active ? 'active' : ''}>
              <a href={item.href}>{item.text}</a>
            </li>
          ))}
        </ul>
        
        <a href={ctaButton.href} className={ctaButton.class}>
          {ctaButton.text}
        </a>
      </div>
    </nav>
  );
};

export default Navigation;
```

**Footer.tsx**

```typescript
// src/components/layout/Footer.tsx
import React from 'react';
import { footerData } from '../../data/footerData';

const Footer: React.FC = () => {
  return (
    <footer className="footer">
      <div className="w-layout-blockcontainer site-container w-container">
        <div className="footer-content">
          {footerData.sections.map((section, idx) => (
            <div key={idx} className="footer-section">
              <h4>{section.title}</h4>
              <ul>
                {section.links.map((link, i) => (
                  <li key={i}>
                    <a href={link.href}>{link.text}</a>
                  </li>
                ))}
              </ul>
            </div>
          ))}
        </div>
        
        <div className="footer-bottom">
          <p>{footerData.copyright}</p>
        </div>
      </div>
    </footer>
  );
};

export default Footer;
```

---

### æ­¥éª¤4ï¼šç”ŸæˆSectionç»„ä»¶

**å…³é”®ï¼šåŸºäºsection_content.jsonç”Ÿæˆ**

```python
def generate_section_component(section_content, component_name):
    """ç”ŸæˆSectionç»„ä»¶ä»£ç """
    
    # è§£æHTMLç»“æ„
    soup = BeautifulSoup(section_content['html_raw'], 'html.parser')
    section = soup.find('section')
    
    # è½¬æ¢ä¸ºJSX
    jsx = html_to_jsx(section)
    
    # è¯†åˆ«éœ€è¦çš„æ•°æ®å¯¼å…¥
    imports = identify_data_imports(section_content)
    ui_imports = identify_ui_imports(section_content)
    
    # ç”Ÿæˆç»„ä»¶ä»£ç 
    component_code = f"""// src/components/sections/{component_name}.tsx
import React from 'react';
{generate_imports(imports, ui_imports)}

const {component_name}: React.FC = () => {{
  return (
{indent(jsx, 4)}
  );
}};

export default {component_name};
"""
    
    return component_code

def html_to_jsx(element, indent_level=0):
    """å°†HTMLè½¬æ¢ä¸ºJSX"""
    if not element.name:
        # æ–‡æœ¬èŠ‚ç‚¹
        text = element.strip()
        return f"{text}" if text else ""
    
    # å¤„ç†æ ‡ç­¾
    tag = element.name
    attrs = convert_attrs_to_jsx(element.attrs)
    
    # è‡ªé—­åˆæ ‡ç­¾
    if tag in ['img', 'br', 'hr', 'input']:
        return f"<{tag}{attrs} />"
    
    # æœ‰å­å…ƒç´ çš„æ ‡ç­¾
    children_jsx = []
    for child in element.children:
        child_jsx = html_to_jsx(child, indent_level + 1)
        if child_jsx:
            children_jsx.append(child_jsx)
    
    if children_jsx:
        children_str = '\n'.join(children_jsx)
        return f"<{tag}{attrs}>\n{children_str}\n</{tag}>"
    else:
        return f"<{tag}{attrs}></{tag}>"

def convert_attrs_to_jsx(attrs):
    """å°†HTMLå±æ€§è½¬æ¢ä¸ºJSXå±æ€§"""
    jsx_attrs = []
    
    for key, value in attrs.items():
        # class â†’ className
        if key == 'class':
            jsx_attrs.append(f'className="{" ".join(value)}"')
        # for â†’ htmlFor
        elif key == 'for':
            jsx_attrs.append(f'htmlFor="{value}"')
        # data-* ä¿æŒä¸å˜
        elif key.startswith('data-'):
            jsx_attrs.append(f'{key}="{value}"')
        # å…¶ä»–å±æ€§
        else:
            jsx_attrs.append(f'{key}="{value}"')
    
    return ' ' + ' '.join(jsx_attrs) if jsx_attrs else ''
```

**å®é™…ç”Ÿæˆçš„ç»„ä»¶ç¤ºä¾‹**ï¼š

```typescript
// src/components/sections/ServicesSection.tsx
import React from 'react';
import { servicesData } from '../../data/servicesData';
import Card from '../ui/Card';

const ServicesSection: React.FC = () => {
  return (
    <section className="py-100">
      <div className="w-layout-blockcontainer site-container w-container">
        <div className="text-center mb-60">
          <h2 className="text-30">{servicesData.heading}</h2>
          <p className="text-18 text-gray">{servicesData.subheading}</p>
        </div>
        
        <div className="services-grid">
          {servicesData.cards.map((card) => (
            <Card
              key={card.id}
              title={card.title}
              description={card.description}
              image={card.image}
              link={card.link}
              className="service-card"
            />
          ))}
        </div>
      </div>
    </section>
  );
};

export default ServicesSection;
```

---

### æ­¥éª¤5ï¼šç”ŸæˆApp.tsx

**å¿…é¡»åŒ…å«æ‰€æœ‰section**

```typescript
// src/App.tsx
import React from 'react';
import Navigation from './components/layout/Navigation';
import Footer from './components/layout/Footer';

// å¯¼å…¥æ‰€æœ‰sectionç»„ä»¶
import HeroSection from './components/sections/HeroSection';
import ServicesSection from './components/sections/ServicesSection';
import FeaturesSection from './components/sections/FeaturesSection';
import RulesSection from './components/sections/RulesSection';
import TestimonialsSection from './components/sections/TestimonialsSection';
import PricingSection from './components/sections/PricingSection';
import FAQSection from './components/sections/FAQSection';
import CTASection from './components/sections/CTASection';
import Section9 from './components/sections/Section9';
import Section10 from './components/sections/Section10';
import Section11 from './components/sections/Section11';
import Section12 from './components/sections/Section12';
import Section13 from './components/sections/Section13';

import './styles/webflow.css';
import './styles/main.css';

const App: React.FC = () => {
  return (
    <>
      <Navigation />
      
      <main>
        <HeroSection />
        <ServicesSection />
        <FeaturesSection />
        <RulesSection />
        <TestimonialsSection />
        <PricingSection />
        <FAQSection />
        <CTASection />
        <Section9 />
        <Section10 />
        <Section11 />
        <Section12 />
        <Section13 />
      </main>
      
      <Footer />
    </>
  );
};

export default App;
```

**âš ï¸ æ£€æŸ¥App.tsx**ï¼š
- âœ… æ‰€æœ‰sectionç»„ä»¶éƒ½å·²å¯¼å…¥
- âœ… æ‰€æœ‰sectionç»„ä»¶éƒ½å·²ä½¿ç”¨
- âœ… æ•°é‡åŒ¹é…å®é™…sectionæ•°
- âŒ æ²¡æœ‰å ä½ç¬¦
- âŒ æ²¡æœ‰TODOæ³¨é‡Š

---

### æ­¥éª¤6ï¼šå¤„ç†åŠ¨ç”»æ ·å¼

**ä»CSSä¸­ç§»é™¤åŠ¨ç”»**

```python
def clean_css_animations(css_file, output_file):
    """ç§»é™¤CSSä¸­çš„åŠ¨ç”»"""
    with open(css_file, 'r', encoding='utf-8') as f:
        content = f.read()
    
    # ç§»é™¤@keyframes
    content = re.sub(r'@keyframes[^{]*\{(?:[^{}]*|\{[^{}]*\})*\}', '', content, flags=re.DOTALL)
    content = re.sub(r'@-webkit-keyframes[^{]*\{(?:[^{}]*|\{[^{}]*\})*\}', '', content, flags=re.DOTALL)
    
    # ç§»é™¤animationå±æ€§
    content = re.sub(r'animation[^:]*:[^;]+;', '', content)
    content = re.sub(r'-webkit-animation[^:]*:[^;]+;', '', content)
    
    # ç§»é™¤transitionå±æ€§
    content = re.sub(r'transition[^:]*:[^;]+;', '', content)
    content = re.sub(r'-webkit-transition[^:]*:[^;]+;', '', content)
    
    # å†™å…¥æ¸…ç†åçš„CSS
    with open(output_file, 'w', encoding='utf-8') as f:
        f.write(content)
    
    print(f"âœ“ å·²ç”Ÿæˆæ¸…ç†åçš„CSS: {output_file}")

# æ‰§è¡Œ
clean_css_animations('webflow.css', 'src/styles/webflow.css')
```

---

### æ­¥éª¤7ï¼šç”Ÿæˆé¡¹ç›®é…ç½®æ–‡ä»¶

**package.json**

```json
{
  "name": "website-restoration",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.43",
    "@types/react-dom": "^18.2.17",
    "@vitejs/plugin-react": "^4.2.1",
    "typescript": "^5.2.2",
    "vite": "^5.0.8"
  }
}
```

**tsconfig.json**

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}
```

**vite.config.ts**

```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
});
```

**index.html**

```html
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Website Restoration</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
```

**src/main.tsx**

```typescript
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

---

## âœ… æ£€æŸ¥ç‚¹

å®Œæˆæœ¬é˜¶æ®µåï¼Œå¿…é¡»ç¡®è®¤ï¼š

### 1. æ–‡ä»¶ç»“æ„å®Œæ•´

```
âœ“ src/
  âœ“ components/
    âœ“ layout/ (4ä¸ªç»„ä»¶)
    âœ“ ui/ (6-10ä¸ªç»„ä»¶)
    âœ“ sections/ (13-15ä¸ªç»„ä»¶ï¼ŒåŒ¹é…sectionæ•°é‡)
  âœ“ data/ (æ‰€æœ‰æ•°æ®æ–‡ä»¶)
  âœ“ styles/ (CSSæ–‡ä»¶)
  âœ“ types.ts
  âœ“ App.tsx
  âœ“ main.tsx
âœ“ package.json
âœ“ tsconfig.json
âœ“ vite.config.ts
âœ“ index.html
```

### 2. å†…å®¹å®Œæ•´æ€§

- [ ] **æ‰€æœ‰sectionç»„ä»¶éƒ½å·²ç”Ÿæˆ**
- [ ] **æ¯ä¸ªç»„ä»¶åŒ…å«å®Œæ•´å†…å®¹ï¼ˆæ— å ä½ç¬¦ï¼‰**
- [ ] **æ‰€æœ‰æ•°æ®æ–‡ä»¶éƒ½å·²åˆ›å»º**
- [ ] **æ•°æ®å†…å®¹å®Œæ•´ï¼ˆä¸æ˜¯æ ·ä¾‹ï¼‰**
- [ ] **App.tsxå¯¼å…¥å¹¶ä½¿ç”¨äº†æ‰€æœ‰section**

### 3. ä»£ç è´¨é‡

- [ ] æ‰€æœ‰ç»„ä»¶éƒ½æ˜¯åˆæ³•çš„TypeScript
- [ ] æ‰€æœ‰classNameéƒ½å·²ä¿ç•™
- [ ] æ‰€æœ‰å›¾ç‰‡srcéƒ½æ­£ç¡®
- [ ] æ‰€æœ‰é“¾æ¥hreféƒ½æ­£ç¡®
- [ ] åŠ¨ç”»æ ·å¼å·²ç§»é™¤

---

## ğŸš¨ æœ€ç»ˆéªŒè¯

### è¿è¡Œæ£€æŸ¥

```bash
# å®‰è£…ä¾èµ–
npm install

# æ„å»ºæ£€æŸ¥
npm run build
# é¢„æœŸï¼š0 TypeScripté”™è¯¯

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# é¢„æœŸï¼šæˆåŠŸå¯åŠ¨ï¼Œæ— error
```

### æµè§ˆå™¨æ£€æŸ¥

```
1. æ‰“å¼€ http://localhost:5174
2. é€ä¸ªsectionæ£€æŸ¥ï¼š
   â–¡ Section 1 æœ‰å†…å®¹ï¼ˆä¸æ˜¯å ä½ç¬¦ï¼‰
   â–¡ Section 2 æœ‰å†…å®¹ï¼ˆä¸æ˜¯å ä½ç¬¦ï¼‰
   â–¡ ...
   â–¡ Section N æœ‰å†…å®¹ï¼ˆä¸æ˜¯å ä½ç¬¦ï¼‰
3. æ£€æŸ¥å¯¼èˆªå’ŒFooter
4. å¯¹æ¯”åŸç½‘ç«™ï¼Œç¡®è®¤è§†è§‰ä¸€è‡´æ€§
```

---

[â† ä¸Šä¸€æ­¥ï¼šæ¨¡å—06 - ç»„ä»¶è§„åˆ’](./06_ç»„ä»¶è§„åˆ’.md) | [â†’ ä¸‹ä¸€æ­¥ï¼šæ¨¡å—08 - è´¨é‡éªŒè¯](./08_è´¨é‡éªŒè¯.md)
